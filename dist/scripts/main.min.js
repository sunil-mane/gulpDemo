!function(){"use strict";angular.module("demoApp",["ui.router","ngStorage"])}(),function(){"use strict";angular.module("demoApp").run(["$rootScope","$state","loginService",function(e,t,o){e.$on("$stateChangeStart",function(e,r,n,u,l){r.authenticate&&!o.isLogedin()&&(t.go("login"),e.preventDefault())})}])}(),function(){"use strict";angular.module("demoApp").config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/login"),e.state("login",{authenticate:!1,url:"/login",templateUrl:"app/views/login/login.html",controller:"loginCtrl"}).state("home",{authenticate:!0,url:"/home",templateUrl:"app/views/home/home.html",controller:"homeCtrl"}).state("home.customers",{authenticate:!0,url:"/customers",templateUrl:"app/views/customer/customers.html",controller:"customerCtrl"}).state("home.users",{authenticate:!0,url:"/users",templateUrl:"app/views/user/users.html",controller:"userCtrl"}).state("home.products",{authenticate:!0,url:"/products",templateUrl:"app/views/product/products.html",controller:"productCtrl"}).state("logout",{authenticate:!1,url:"/logout",controller:["$state","loginService",function(e,t){t.logout()&&e.go("login")}]})}])}(),function(){"use strict";angular.module("demoApp").factory("customerService",["$http",function(e){return{getCustomers:function(){return e.get("http://www.w3schools.com/angular/customers.php")}}}])}(),function(){"use strict";angular.module("demoApp").factory("loginService",["$localStorage","$sessionStorage",function(e,t){return{login:function(o){return o.remember?(e.email=o.email,e.password=o.password):(delete e.email,delete e.password),t.userEmail=o.email,!0},getRemember:function(){return e.email?{email:e.email,password:e.password,remember:!0}:{}},isLogedin:function(){return!!t.userEmail},logout:function(){return console.log("logout..."),delete t.userEmail,!0},getUserEmail:function(){return t.userEmail?t.userEmail:"Guest"}}}])}(),function(){"use strict";angular.module("demoApp").factory("userService",["$http",function(e){function t(){return e.get("api/users")}return{getUsers:t}}])}(),function(){"use strict";angular.module("demoApp").controller("customerCtrl",["$scope","customerService",function(e,t){t.getCustomers().then(function(t){e.customers=t.data.records,console.log(e.customers)}).catch(function(e){console.log("Error : "+e)})}])}(),function(){"use strict";angular.module("demoApp").controller("homeCtrl",["$scope","loginService",function(e,t){e.user=t.getUserEmail()}])}(),function(){"use strict";angular.module("demoApp").controller("loginCtrl",["$scope","$state","loginService",function(e,t,o){e.loginObj=o.getRemember(),e.login=function(){o.login(e.loginObj)?t.go("home"):t.go("login")}}])}(),function(){"use strict";angular.module("demoApp").controller("productCtrl",["$scope","loginService",function(e,t){}])}(),function(){"use strict";angular.module("demoApp").controller("userCtrl",["$scope","userService",function(e,t){t.getUsers().then(function(t){e.users=t.data}).catch(function(e){console.log("Error : "+e)})}])}();